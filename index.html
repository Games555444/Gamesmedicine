<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Juego de M√©dicos üè•</title>
<style>
  * { box-sizing: border-box; }
  body {
    margin: 0;
    overflow: hidden;
    font-family: 'Poppins', sans-serif;
  }
  #inicio {
    background: linear-gradient(180deg, #a8e6ff, #e1faff);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    text-align: center;
  }
  #inicio h1 {
    font-size: 3em;
    color: #0077b6;
    margin-bottom: 10px;
  }
  #inicio h2 {
    color: #0077b6;
    font-size: 1.2em;
  }
  #inicio ul {
    list-style: none;
    padding: 0;
    margin: 10px 0 30px;
  }
  #inicio li {
    margin: 5px;
    color: #023e8a;
    font-weight: 600;
  }
  #inicio button {
    background-color: #00b4d8;
    color: white;
    border: none;
    padding: 15px 40px;
    border-radius: 10px;
    font-size: 1.2em;
    cursor: pointer;
    transition: 0.3s;
  }
  #inicio button:hover {
    background-color: #0077b6;
  }
  #juego {
    display: none;
    background: url('https://i.imgur.com/G5H8vLh.png') center/cover no-repeat;
    width: 100vw;
    height: 100vh;
    position: relative;
    overflow: hidden;
  }
  #canvasJuego {
    width: 100%;
    height: 100%;
    display: block;
  }
  #hud {
    position: absolute;
    top: 10px;
    left: 10px;
    color: white;
    background: rgba(0,0,0,0.5);
    padding: 10px;
    border-radius: 10px;
    font-size: 1.2em;
  }
</style>
</head>
<body>
  <div id="inicio">
    <h1>üè• Juego de M√©dicos ü©∫</h1>
    <h2>Desarrollado por:</h2>
    <ul>
      <li>Valery Jim√©nez Villalobos</li>
      <li>Natasha Artavia Garbanzo</li>
      <li>Valentina Ortiz Rojas</li>
      <li>Paola Camacho Rodr√≠guez</li>
      <li>Luis Diego Ulate Rivera</li>
      <li>Juan Carlos Varela Prua√±o</li>
      <li>Iam Alfaro Montero</li>
    </ul>
    <button onclick="iniciarJuego()">Iniciar</button>
  </div>

  <div id="juego">
    <canvas id="canvasJuego" width="800" height="600"></canvas>
    <div id="hud">
      ‚ù§Ô∏è Vidas: <span id="vidas">3</span> |
      üíä Puntos: <span id="puntos">0</span>
    </div>
  </div>

<script>
let canvas = document.getElementById("canvasJuego");
let ctx = canvas.getContext("2d");

let jugador = { x: 380, y: 500, ancho: 40, alto: 40, color: "#0077b6" };
let teclas = {};
let medicinas = [];
let virus = [];
let puntos = 0;
let vidas = 3;
let juegoActivo = false;

// crear objetos
function crearMedicina() {
  medicinas.push({
    x: Math.random() * 760,
    y: -20,
    ancho: 30,
    alto: 30,
    color: "#00b4d8",
    velocidad: 3 + Math.random() * 2
  });
}
function crearVirus() {
  virus.push({
    x: Math.random() * 760,
    y: -20,
    ancho: 35,
    alto: 35,
    color: "#d00000",
    velocidad: 2 + Math.random() * 3
  });
}

function dibujarRect(o) {
  ctx.fillStyle = o.color;
  ctx.fillRect(o.x, o.y, o.ancho, o.alto);
}

// movimiento del jugador
document.addEventListener("keydown", e => teclas[e.key] = true);
document.addEventListener("keyup", e => teclas[e.key] = false);

function moverJugador() {
  if (teclas["ArrowLeft"] && jugador.x > 0) jugador.x -= 5;
  if (teclas["ArrowRight"] && jugador.x < canvas.width - jugador.ancho) jugador.x += 5;
  if (teclas["ArrowUp"] && jugador.y > 0) jugador.y -= 5;
  if (teclas["ArrowDown"] && jugador.y < canvas.height - jugador.alto) jugador.y += 5;
}

function colision(a, b) {
  return a.x < b.x + b.ancho && a.x + a.ancho > b.x &&
         a.y < b.y + b.alto && a.y + a.alto > b.y;
}

function actualizar() {
  if (!juegoActivo) return;
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  moverJugador();
  dibujarRect(jugador);

  // mover y dibujar medicinas
  for (let i = medicinas.length - 1; i >= 0; i--) {
    medicinas[i].y += medicinas[i].velocidad;
    dibujarRect(medicinas[i]);
    if (colision(jugador, medicinas[i])) {
      puntos += 10;
      medicinas.splice(i, 1);
    } else if (medicinas[i].y > canvas.height) medicinas.splice(i, 1);
  }

  // mover y dibujar virus
  for (let i = virus.length - 1; i >= 0; i--) {
    virus[i].y += virus[i].velocidad;
    dibujarRect(virus[i]);
    if (colision(jugador, virus[i])) {
      vidas -= 1;
      virus.splice(i, 1);
      if (vidas <= 0) {
        alert("¬°Juego terminado! Puntuaci√≥n final: " + puntos);
        juegoActivo = false;
        location.reload();
      }
    } else if (virus[i].y > canvas.height) virus.splice(i, 1);
  }

  document.getElementById("vidas").innerText = vidas;
  document.getElementById("puntos").innerText = puntos;

  requestAnimationFrame(actualizar);
}

// cada cierto tiempo crea objetos
setInterval(() => {
  if (juegoActivo) {
    if (Math.random() < 0.6) crearMedicina();
    else crearVirus();
  }
}, 800);

function iniciarJuego() {
  document.getElementById("inicio").style.display = "none";
  document.getElementById("juego").style.display = "block";
  juegoActivo = true;
  actualizar();
}
</script>
</body>
</html>
